-- LocalScript (StarterPlayerScripts)
-- Multi-Universal Invisible [FULL FUNCTIONALITY]

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")

local player = Players.LocalPlayer
local character, humanoid, hrp

local invisEnabled = false
local hiddenParts = {}
local originalTransparencies = {}

local function setupCharacter(char)
	character = char
	humanoid = char:WaitForChild("Humanoid")
	hrp = char:FindFirstChild("HumanoidRootPart") or char:WaitForChild("HumanoidRootPart")
end

if player.Character then setupCharacter(player.Character) end
player.CharacterAdded:Connect(setupCharacter)

-- GUI
local gui = Instance.new("ScreenGui")
gui.Name = "InvisibleUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

-- Minimized Button
local miniBtn = Instance.new("TextButton")
miniBtn.Size = UDim2.new(0, 50, 0, 50)
miniBtn.Position = UDim2.new(0.85, -50, 0.5, -25)
miniBtn.BackgroundColor3 = Color3.fromRGB(150, 100, 255)
miniBtn.BorderSizePixel = 0
miniBtn.Font = Enum.Font.GothamBold
miniBtn.TextSize = 20
miniBtn.TextColor3 = Color3.new(1, 1, 1)
miniBtn.Text = "+"
miniBtn.Visible = false
miniBtn.ZIndex = 10
miniBtn.Active = true
miniBtn.Parent = gui

local miniBtnCorner = Instance.new("UICorner")
miniBtnCorner.CornerRadius = UDim.new(0.5, 0)
miniBtnCorner.Parent = miniBtn

local miniLabel = Instance.new("TextLabel")
miniLabel.Size = UDim2.new(1, 0, 0, 15)
miniLabel.Position = UDim2.new(0, 0, 1, 2)
miniLabel.BackgroundTransparency = 1
miniLabel.Text = "INVIS"
miniLabel.Font = Enum.Font.GothamBold
miniLabel.TextSize = 10
miniLabel.TextColor3 = Color3.fromRGB(150, 100, 255)
miniLabel.Parent = miniBtn

-- Main Container
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 160, 0, 280)
mainFrame.Position = UDim2.new(0.85, -160, 0.35, 0)
mainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
mainFrame.BorderSizePixel = 0
mainFrame.Active = false
mainFrame.Parent = gui

local mainCorner = Instance.new("UICorner")
mainCorner.CornerRadius = UDim.new(0, 12)
mainCorner.Parent = mainFrame

-- Drag Handle
local dragHandle = Instance.new("Frame")
dragHandle.Size = UDim2.new(1, 0, 0, 35)
dragHandle.BackgroundTransparency = 1
dragHandle.Active = true
dragHandle.Parent = mainFrame

-- Title
local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(1, -45, 1, 0)
titleLabel.Position = UDim2.new(0, 10, 0, 0)
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "INVISIBLE"
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextSize = 16
titleLabel.TextColor3 = Color3.fromRGB(150, 100, 255)
titleLabel.TextXAlignment = Enum.TextXAlignment.Left
titleLabel.Parent = dragHandle

-- Minimize Button
local minimizeBtn = Instance.new("TextButton")
minimizeBtn.Size = UDim2.new(0, 20, 0, 20)
minimizeBtn.Position = UDim2.new(1, -25, 0, 7)
minimizeBtn.Text = "-"
minimizeBtn.BackgroundColor3 = Color3.fromRGB(255, 200, 100)
minimizeBtn.TextColor3 = Color3.new(1, 1, 1)
minimizeBtn.Font = Enum.Font.GothamBold
minimizeBtn.TextSize = 20
minimizeBtn.ZIndex = 10
minimizeBtn.Parent = dragHandle

local minimizeCorner = Instance.new("UICorner")
minimizeCorner.CornerRadius = UDim.new(0.5, 0)
minimizeCorner.Parent = minimizeBtn

-- Status Indicator
local statusDot = Instance.new("Frame")
statusDot.Size = UDim2.new(0, 10, 0, 10)
statusDot.Position = UDim2.new(1, -15, 0, 12)
statusDot.BackgroundColor3 = Color3.fromRGB(255, 80, 80)
statusDot.BorderSizePixel = 0
statusDot.Parent = dragHandle

local dotCorner = Instance.new("UICorner")
dotCorner.CornerRadius = UDim.new(0.5, 0)
dotCorner.Parent = statusDot

-- Main Toggle Button
local toggleBtn = Instance.new("TextButton")
toggleBtn.Size = UDim2.new(1, -20, 0, 40)
toggleBtn.Position = UDim2.new(0, 10, 0, 45)
toggleBtn.BackgroundColor3 = Color3.fromRGB(255, 80, 80)
toggleBtn.Text = "ðŸ‘» DISABLED"
toggleBtn.Font = Enum.Font.GothamBold
toggleBtn.TextSize = 16
toggleBtn.TextColor3 = Color3.new(1, 1, 1)
toggleBtn.Parent = mainFrame

local toggleCorner = Instance.new("UICorner")
toggleCorner.CornerRadius = UDim.new(0, 8)
toggleCorner.Parent = toggleBtn

-- Method Buttons Container
local methodsLabel = Instance.new("TextLabel")
methodsLabel.Size = UDim2.new(1, -20, 0, 20)
methodsLabel.Position = UDim2.new(0, 10, 0, 95)
methodsLabel.BackgroundTransparency = 1
methodsLabel.Text = "Invisible Methods:"
methodsLabel.Font = Enum.Font.GothamBold
methodsLabel.TextSize = 12
methodsLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
methodsLabel.TextXAlignment = Enum.TextXAlignment.Left
methodsLabel.Parent = mainFrame

-- Method 1: Body Parts
local bodyBtn = Instance.new("TextButton")
bodyBtn.Size = UDim2.new(1, -20, 0, 30)
bodyBtn.Position = UDim2.new(0, 10, 0, 120)
bodyBtn.BackgroundColor3 = Color3.fromRGB(80, 255, 100)
bodyBtn.Text = "Body: ON"
bodyBtn.Font = Enum.Font.GothamBold
bodyBtn.TextSize = 12
bodyBtn.TextColor3 = Color3.new(1, 1, 1)
bodyBtn.Parent = mainFrame

local bodyCorner = Instance.new("UICorner")
bodyCorner.CornerRadius = UDim.new(0, 6)
bodyCorner.Parent = bodyBtn

-- Method 2: Accessories
local accessBtn = Instance.new("TextButton")
accessBtn.Size = UDim2.new(1, -20, 0, 30)
accessBtn.Position = UDim2.new(0, 10, 0, 155)
accessBtn.BackgroundColor3 = Color3.fromRGB(80, 255, 100)
accessBtn.Text = "Accessories: ON"
accessBtn.Font = Enum.Font.GothamBold
accessBtn.TextSize = 12
accessBtn.TextColor3 = Color3.new(1, 1, 1)
accessBtn.Parent = mainFrame

local accessCorner = Instance.new("UICorner")
accessCorner.CornerRadius = UDim.new(0, 6)
accessCorner.Parent = accessBtn

-- Method 3: Face
local faceBtn = Instance.new("TextButton")
faceBtn.Size = UDim2.new(1, -20, 0, 30)
faceBtn.Position = UDim2.new(0, 10, 0, 190)
faceBtn.BackgroundColor3 = Color3.fromRGB(80, 255, 100)
faceBtn.Text = "Face: ON"
faceBtn.Font = Enum.Font.GothamBold
faceBtn.TextSize = 12
faceBtn.TextColor3 = Color3.new(1, 1, 1)
faceBtn.Parent = mainFrame

local faceCorner = Instance.new("UICorner")
faceCorner.CornerRadius = UDim.new(0, 6)
faceCorner.Parent = faceBtn

-- Info Label
local infoLabel = Instance.new("TextLabel")
infoLabel.Size = UDim2.new(1, -20, 0, 50)
infoLabel.Position = UDim2.new(0, 10, 0, 230)
infoLabel.BackgroundTransparency = 1
infoLabel.Text = "Tools remain functional!\nCan hit & use abilities"
infoLabel.Font = Enum.Font.Gotham
infoLabel.TextSize = 9
infoLabel.TextColor3 = Color3.fromRGB(150, 150, 150)
infoLabel.TextXAlignment = Enum.TextXAlignment.Center
infoLabel.Parent = mainFrame

-- Settings
local hideBody = true
local hideAccessories = true
local hideFace = true

-- Dragging for main frame
local dragging = false
local dragStart, startPos

dragHandle.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		dragging = true
		dragStart = input.Position
		startPos = mainFrame.Position
		
		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

dragHandle.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
		if dragging then
			local delta = input.Position - dragStart
			mainFrame.Position = UDim2.new(
				startPos.X.Scale, startPos.X.Offset + delta.X,
				startPos.Y.Scale, startPos.Y.Offset + delta.Y
			)
		end
	end
end)

-- Dragging for mini button
local miniDragging = false
local miniDragStart, miniStartPos

miniBtn.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		miniDragging = true
		miniDragStart = input.Position
		miniStartPos = miniBtn.Position
		
		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				miniDragging = false
			end
		end)
	end
end)

miniBtn.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
		if miniDragging then
			local delta = input.Position - miniDragStart
			miniBtn.Position = UDim2.new(
				miniStartPos.X.Scale, miniStartPos.X.Offset + delta.X,
				miniStartPos.Y.Scale, miniStartPos.Y.Offset + delta.Y
			)
		end
	end
end)

-- Minimize/Maximize
local isMinimized = false

minimizeBtn.Activated:Connect(function()
	isMinimized = true
	
	TweenService:Create(mainFrame, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.In), {
		Size = UDim2.new(0, 0, 0, 0)
	}):Play()
	
	task.wait(0.3)
	mainFrame.Visible = false
	miniBtn.Visible = true
	
	miniBtn.Size = UDim2.new(0, 0, 0, 0)
	TweenService:Create(miniBtn, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
		Size = UDim2.new(0, 50, 0, 50)
	}):Play()
end)

miniBtn.Activated:Connect(function()
	if not miniDragging then
		isMinimized = false
		
		TweenService:Create(miniBtn, TweenInfo.new(0.2, Enum.EasingStyle.Back, Enum.EasingDirection.In), {
			Size = UDim2.new(0, 0, 0, 0)
		}):Play()
		
		task.wait(0.2)
		miniBtn.Visible = false
		mainFrame.Visible = true
		
		mainFrame.Size = UDim2.new(0, 0, 0, 0)
		TweenService:Create(mainFrame, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
			Size = UDim2.new(0, 160, 0, 280)
		}):Play()
	end
end)

-- Method toggles
bodyBtn.Activated:Connect(function()
	hideBody = not hideBody
	
	if hideBody then
		bodyBtn.Text = "Body: ON"
		bodyBtn.BackgroundColor3 = Color3.fromRGB(80, 255, 100)
	else
		bodyBtn.Text = "Body: OFF"
		bodyBtn.BackgroundColor3 = Color3.fromRGB(255, 80, 80)
	end
	
	if invisEnabled then
		applyInvisibility()
	end
end)

accessBtn.Activated:Connect(function()
	hideAccessories = not hideAccessories
	
	if hideAccessories then
		accessBtn.Text = "Accessories: ON"
		accessBtn.BackgroundColor3 = Color3.fromRGB(80, 255, 100)
	else
		accessBtn.Text = "Accessories: OFF"
		accessBtn.BackgroundColor3 = Color3.fromRGB(255, 80, 80)
	end
	
	if invisEnabled then
		applyInvisibility()
	end
end)

faceBtn.Activated:Connect(function()
	hideFace = not hideFace
	
	if hideFace then
		faceBtn.Text = "Face: ON"
		faceBtn.BackgroundColor3 = Color3.fromRGB(80, 255, 100)
	else
		faceBtn.Text = "Face: OFF"
		faceBtn.BackgroundColor3 = Color3.fromRGB(255, 80, 80)
	end
	
	if invisEnabled then
		applyInvisibility()
	end
end)

-- MULTI-UNIVERSAL INVISIBLE SYSTEM
function applyInvisibility()
	if not character then return end
	
	-- Store original transparencies
	for _, obj in ipairs(character:GetDescendants()) do
		if obj:IsA("BasePart") or obj:IsA("MeshPart") or obj:IsA("Decal") then
			if not originalTransparencies[obj] then
				originalTransparencies[obj] = obj.Transparency
			end
		end
	end
	
	-- Hide Body Parts (Keep HumanoidRootPart for collision/hitbox)
	if hideBody then
		for _, part in ipairs(character:GetChildren()) do
			if part:IsA("BasePart") or part:IsA("MeshPart") then
				if part.Name ~= "HumanoidRootPart" then
					part.Transparency = 1
					
					-- Hide decals/textures on body parts
					for _, child in ipairs(part:GetChildren()) do
						if child:IsA("Decal") or child:IsA("Texture") then
							child.Transparency = 1
						end
					end
				end
			end
		end
	end
	
	-- Hide Accessories
	if hideAccessories then
		for _, accessory in ipairs(character:GetChildren()) do
			if accessory:IsA("Accessory") then
				local handle = accessory:FindFirstChild("Handle")
				if handle then
					handle.Transparency = 1
					
					-- Hide accessory textures
					for _, child in ipairs(handle:GetDescendants()) do
						if child:IsA("Decal") or child:IsA("Texture") or child:IsA("SurfaceAppearance") then
							if child:IsA("Decal") or child:IsA("Texture") then
								child.Transparency = 1
							elseif child:IsA("SurfaceAppearance") then
								child.Color = Color3.new(1, 1, 1)
								child.ColorMap = ""
							end
						end
					end
				end
			end
		end
	end
	
	-- Hide Face
	if hideFace then
		local head = character:FindFirstChild("Head")
		if head then
			local face = head:FindFirstChildOfClass("Decal")
			if face then
				face.Transparency = 1
			end
		end
	end
	
	-- Make HumanoidRootPart fully invisible but keep collision
	if hrp then
		hrp.Transparency = 1
	end
end

function restoreVisibility()
	if not character then return end
	
	-- Restore all original transparencies
	for obj, transparency in pairs(originalTransparencies) do
		if obj and obj.Parent then
			pcall(function()
				obj.Transparency = transparency
			end)
		end
	end
	
	-- Restore face
	local head = character:FindFirstChild("Head")
	if head then
		local face = head:FindFirstChildOfClass("Decal")
		if face then
			face.Transparency = 0
		end
	end
	
	-- Restore accessories
	for _, accessory in ipairs(character:GetChildren()) do
		if accessory:IsA("Accessory") then
			local handle = accessory:FindFirstChild("Handle")
			if handle then
				for _, child in ipairs(handle:GetDescendants()) do
					if child:IsA("SurfaceAppearance") then
						-- Restore surface appearance (can't fully restore without storing original)
						child.Color = Color3.new(1, 1, 1)
					end
				end
			end
		end
	end
	
	originalTransparencies = {}
end

-- Monitor for new accessories/parts (Battlegrounds games add effects)
spawn(function()
	while true do
		wait(0.5)
		
		if invisEnabled and character then
			applyInvisibility()
		end
	end
end)

-- Main Toggle
toggleBtn.Activated:Connect(function()
	invisEnabled = not invisEnabled
	
	if invisEnabled then
		toggleBtn.Text = "ðŸ‘» ENABLED"
		toggleBtn.BackgroundColor3 = Color3.fromRGB(150, 100, 255)
		statusDot.BackgroundColor3 = Color3.fromRGB(150, 100, 255)
		
		applyInvisibility()
	else
		toggleBtn.Text = "ðŸ‘» DISABLED"
		toggleBtn.BackgroundColor3 = Color3.fromRGB(255, 80, 80)
		statusDot.BackgroundColor3 = Color3.fromRGB(255, 80, 80)
		
		restoreVisibility()
	end
end)

print("==========================================")
print("Multi-Universal Invisible [FULL FUNCTION]")
print("==========================================")
print("âœ… Hide Body Parts (Keep HumanoidRootPart)")
print("âœ… Hide Accessories (Hats, Hair, etc.)")
print("âœ… Hide Face Decal")
print("âœ… Tools Remain Functional!")
print("âœ… Can Hit & Deal Damage")
print("âœ… Works in Battlegrounds Games")
print("âœ… Auto-applies to new parts/effects")
print("==========================================")
